<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Game</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Quiz Game</h1>
    <h2>Answer the following questions:</h2>
    <p id="timer">Time remaining: {{ timer }} seconds</p>

    <form action="{{ url_for('submit_answers') }}" method="POST">
        <input type="hidden" name="game_id" value="{{ game_id }}">
        {% for i, question in enumerate(questions) %}
            <label for="question{{i}}">{{ question }}</label>
            <input type="text" id="question{{i}}" name="answer{{i}}" required><br>
        {% endfor %}
        <button type="submit">Submit Answers</button>
    </form>

    <script>
        let timer = {{ timer }};
        let countdown = setInterval(function() {
            if (timer <= 0) {
                clearInterval(countdown);
                alert("Time's up! Submitting answers.");
                document.querySelector('form').submit();
            } else {
                document.getElementById('timer').innerText = "Time remaining: " + timer + " seconds";
                timer--;
            }
        }, 1000);
    </script>
</body>
</html>
